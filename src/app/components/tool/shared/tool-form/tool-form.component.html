<form (ngSubmit)="onSubmit()" #form="ngForm">

    <mat-grid-list cols="4" rowHeight="80px">
        <mat-grid-tile [colspan]="4" [rowspan]="1">
            <mat-form-field>
                <input matInput id="name" placeholder="Name" type="text" name="name"
                       required [(ngModel)]="tool.name" [ngClass]="tool.isEnable ? 'null' : 'strikethrough'">
            </mat-form-field>
        </mat-grid-tile>
    </mat-grid-list>

    <mat-grid-list cols="4" rowHeight="80px">
        <mat-grid-tile [colspan]="2" [rowspan]="1">
            <mat-form-field>
                <input matInput id="location" placeholder="Location" type="text" name="location"
                       [(ngModel)]="tool.location">
            </mat-form-field>
        </mat-grid-tile>

        <mat-grid-tile [colspan]="2" [rowspan]="4">
            <app-tool-image [source]="url" [toolId]="tool.id" [width]="240" [height]="320"></app-tool-image>
        </mat-grid-tile>

        <mat-grid-tile [colspan]="2" [rowspan]="1">
            <h3>Unit of measure:</h3>
            <mat-button-toggle-group name="unitOfMeasure" [(value)]="tool.unitOfMeasure">
                <mat-button-toggle value="PCS">PCS</mat-button-toggle>
                <mat-button-toggle value="KG">KG</mat-button-toggle>
            </mat-button-toggle-group>
        </mat-grid-tile>

        <mat-grid-tile [colspan]="2" [rowspan]="1">
        <mat-form-field>
            <mat-select placeholder="Category" [(ngModel)]="tool.category" name="category">
                <mat-option *ngFor="let category of categories"
                            [value]="category">{{category.name}}</mat-option>
            </mat-select>
        </mat-form-field>
    </mat-grid-tile>

        <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-slide-toggle (change)="uniqueChange($event)"
                              [(ngModel)]="tool.isUnique" name="unique">Unique
            </mat-slide-toggle>
        </mat-grid-tile>

        <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-slide-toggle [checked]="isToReturnChecked" [disabled]="isToReturnDisable"
                              [(ngModel)]="tool.isToReturn" name="toReturn">To Return
            </mat-slide-toggle>
        </mat-grid-tile>
    </mat-grid-list>

    <mat-grid-list cols="4" rowHeight="80px">
        <mat-grid-tile [colspan]="2" [rowspan]="1">
            <mat-form-field>
                <input matInput id="minimalCount" placeholder="Minimal tool count on magazine" type="number"
                       name="minimalCount"
                       [(ngModel)]="tool.minimalCount">
            </mat-form-field>
        </mat-grid-tile>
    </mat-grid-list>

    <mat-grid-list cols="4" rowHeight="80px">

        <mat-grid-tile [colspan]="2" [rowspan]="1">
            <mat-form-field>
                <input matInput [min]="minDate" [matDatepicker]="picker" placeholder="Warranty date"
                       [(ngModel)]="tool.warrantyDate" name="warrantyDate">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
        </mat-grid-tile>

        <mat-grid-tile [colspan]="2" [rowspan]="1">
            <input type="file" id="image" name="image" (change)="fileChangeEvent($event)">
        </mat-grid-tile>
    </mat-grid-list>

    <br><br><br>


    <mat-grid-list cols="20" rowHeight="60px">
        <mat-grid-tile [colspan]="12" [rowspan]="1"></mat-grid-tile>
        <mat-grid-tile [colspan]="2" [rowspan]="1">
            <button class="mat-primary" mat-raised-button type="submit" [disabled]="!form.valid || (!form.dirty && url == '')">Submit</button>
        </mat-grid-tile>
        <mat-grid-tile [colspan]="2" [rowspan]="1">
            <a class="mat-warn" type="button" mat-raised-button (click)="back()">Cancel</a>
        </mat-grid-tile>
    </mat-grid-list>

</form>
